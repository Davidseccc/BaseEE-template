<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>
        <h:outputText value="Importovat soubor"/>
    </title>
    <link rel="stylesheet" href="../../resources/css/style.css"/>
</h:head>

<h:form id="form" name="form">
    <div class="input-container">
        <p:growl id="msgs" showDetail="true"/>
        <p:dataTable id="k-Data" var="car" value="#{importDataDialogView.kDatabaseDTOS}" editable="true" editMode="cell"
                     resizableColumns="true" widgetVar="k-Data">
            <p:ajax event="cellEdit" listener="#{importDataDialogView.onCellEdit}" update=":form:msgs"/>

            <p:column headerText="Id">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.id}"/></f:facet>
                    <f:facet name="input"><p:inputText id="modelInput" value="#{car.id}" style="width:96%"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Smile">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.smiles}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{car.smiles}" style="width:96%" label="smile"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Original codename">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.originalCodename}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{car.originalCodename}" style="width:96%"
                                                       label="original codename"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Owner">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.owner}"/></f:facet>
                    <f:facet name="input">
                        <h:selectOneMenu value="#{car.owner}" style="width:100%">
                            <f:selectItems value="#{importDataDialogView.owners}" var="owner" itemLabel="#{owner}"
                                           itemValue="#{owner}"/>
                        </h:selectOneMenu>
                    </f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Melting point">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.meltingPoint}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{car.meltingPoint}" style="width:96%"
                                                       label="melting point"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="NMR" style="width:96%">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.NMR}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{car.NMR}" style="width:96%" label="NMR"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="HRMS">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.HRMS}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{car.HRMS}" style="width:96%" label="HRMS"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Purity">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.purity}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{car.purity}" style="width:96%"
                                                       label="purity"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Solubility">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{car.solubility}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{car.solubility}" style="width:96%" label="solubility"/></f:facet>
                </p:cellEditor>
            </p:column>
        </p:dataTable>
    </div>
</h:form>

<h:form id="submitForm">
    <p:commandButton value="Uložit a zavřít"
                     action="#{importDataDialogView.saveAndClose()}"
                     styleClass="topmargin-20"
                     validateClient="true"
                     icon="fa fa-save"
                     update="form"/>

    <p:commandButton value="Zavřít"
                     immediate="true"
                     action="#{editUserDialog.close()}"/>
</h:form>
</html>